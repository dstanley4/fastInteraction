---
output:
  md_document:
    variant: markdown_github
---
# fastInteraction Version 0.1.0


Moderated mulitple regression is a common analysis in psychology. Unfortunately, there are a large number of steps associated with creating the desired output and code for both 2D and 3D graphs of the moderated regression. 

This package conducts the required analyses and creates both 2D and 3D graphs of the moderated regression using ggplot and plot.ly, respectively. Additionally, regression results of the analyses are displayed in the console, output in list format, and embeded in APA style tables (as per [apaTables](https://cran.r-project.org/web/packages/apaTables/vignettes/apaTables.html)) if a filename (ending in .doc or .rtf) is specified.

The development version of fastInteraction hosted here on Github. Eventually, version will be posted to the CRAN.


### Install Development Version

```{r,echo=TRUE, eval=FALSE}

install.packages("devtools")

devtools::install_github("dstanley4/fastInteraction")

library(fastInteraction)

```

## Tutorial

fastInteraction uses data (i.e., cohen_data) consistent with Table 7.4.1 from Cohen, Cohen, West, and Aiken (2003) as the demonstration data set so that values obtained in the output can be checked against those in the book.

The code below creates both 2D and 3D graphs and displays regression results to the console:

```{r, eval = FALSE}
fast.int(data = cohen_exercise,
         criterion = endurance,
         predictor = age,
         moderator = exercise,
         center.predictors = TRUE)
```

Slightly modified code creates both 2D and 3D graphs (with custom axis labels), displays regression results to the console, and creates a Word document with the regression tables in APA style.

```{r, eval=FALSE}

new_axis_labels <- list(criterion = "Endurance",
                        predictor = "Age (centered)",
                        moderator = "Exercise (centered)")

fast.int(data = cohen_exercise,
         criterion = endurance,
         predictor = age,
         moderator = exercise,
         center.predictors = TRUE,
         axis.labels = new_axis_labels,
         filename = "tables.doc")
```

You can also put the output into a custom object and remove key components:


```{r, eval=TRUE}
library(fastInteraction)

new_axis_labels <- list(criterion = "Endurance",
                        predictor = "Age (centered)",
                        moderator = "Exercise (centered)")

myoutput <- fast.int(data = cohen_exercise,
               criterion = endurance,
               predictor = age,
               moderator = exercise,
               center.predictors = TRUE,
               axis.labels = new_axis_labels,
               filename = "tables.doc")
```

Graphing with myoutput
```{r, eval=FALSE}

# Obtain the ggplot graph presented in the Plots tab
formated.ggplot.graph <- myoutput$graph2D.formatted

# Obtain the ggplot graph presented prior to the formatting commands being applied
# If yout want to modify this graph simply add your own ggplot command as illustrated below: 
unformated.ggplot.graph <- myoutput$graph2D.unformatted

custom.formated.ggplot.graph <- unformated.ggplot.graph +
                                   coord_cartesian(ylim = c(0, 60)) +
                                   theme_grey(18)
```

### Analysis information with myoutput
```{r, eval=TRUE}

# Obtain the regression object presented in tables
regression.lm.object  <- myoutput$regression.lm.object

print(regression.lm.object)

summary(regression.lm.object)

```

### Obtain the exact data included in the regression - after centering and drops due to missing data:

```{r}
data_analyzed <- regression.lm.object$model

head(data_analyzed)
```

